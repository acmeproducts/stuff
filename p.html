<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        .tabs {
            display: flex;
            background: white;
            border-radius: 10px 10px 0 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .tab-button {
            flex: 1;
            padding: 15px 20px;
            background: #ecf0f1;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            border-right: 1px solid #bdc3c7;
        }
        
        .tab-button:last-child {
            border-right: none;
        }
        
        .tab-button.active {
            background: #3498db;
            color: white;
        }
        
        .tab-button:hover:not(.active) {
            background: #d5dbdb;
        }
        
        .tab-content {
            background: white;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
            min-height: 600px;
        }
        
        .tab-pane {
            display: none;
        }
        
        .tab-pane.active {
            display: block;
        }
        
        .choices-container {
            display: grid;
            gap: 20px;
        }
        
        .choice-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        
        .choice-item label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .choice-item textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
        }
        
        .button-group {
            margin-top: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
        }
        
        .btn-success:hover {
            background: #229954;
        }
        
        .btn-info {
            background: #17a2b8;
            color: white;
        }
        
        .btn-info:hover {
            background: #138496;
        }
        
        .templates-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            background: white;
            font-size: 12px;
        }
        
        .templates-table th,
        .templates-table td {
            border: 1px solid #dee2e6;
            padding: 8px;
            text-align: center;
        }
        
        .templates-table th {
            background: #f8f9fa;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .templates-table th:first-child {
            text-align: left;
            min-width: 140px;
        }
        
        .templates-table td:first-child {
            text-align: left;
            font-weight: 500;
            background: #f8f9fa;
        }
        
        .templates-table input[type="checkbox"] {
            transform: scale(1.2);
        }
        
        .generate-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        
        .generate-table th,
        .generate-table td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }
        
        .generate-table th {
            background: #f8f9fa;
            font-weight: bold;
        }
        
        .generate-table input[type="number"] {
            width: 60px;
            padding: 5px;
            text-align: center;
            border: 1px solid #ced4da;
            border-radius: 4px;
        }
        
        .template-elements {
            font-size: 12px;
            color: #6c757d;
            line-height: 1.4;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .modal-content {
            background-color: white;
            margin: 50px auto;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            border: none;
            background: none;
        }
        
        .close:hover {
            color: #333;
        }
        
        .generated-prompts {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            max-height: 500px;
            overflow-y: auto;
            line-height: 1.6;
        }
        
        .file-input {
            margin-top: 10px;
        }
        
        .table-container {
            overflow-x: auto;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .tab-content {
                padding: 15px;
            }
            
            .templates-table,
            .generate-table {
                font-size: 11px;
            }
            
            .templates-table th,
            .templates-table td,
            .generate-table th,
            .generate-table td {
                padding: 6px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Prompt Generator</h1>
        
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('choices')">Choices</button>
            <button class="tab-button" onclick="showTab('templates')">Templates</button>
            <button class="tab-button" onclick="showTab('generate')">Generate</button>
        </div>
        
        <div class="tab-content">
            <!-- Choices Tab -->
            <div id="choices" class="tab-pane active">
                <h2>Prompt Element Choices</h2>
                <div class="choices-container" id="choicesContainer">
                    <!-- Choices will be dynamically generated -->
                </div>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveChoices()">Save Choices</button>
                    <button class="btn btn-success" onclick="exportChoices()">Export Choices</button>
                    <button class="btn btn-info" onclick="document.getElementById('importChoicesFile').click()">Import Choices</button>
                    <input type="file" id="importChoicesFile" class="file-input" style="display: none;" accept=".json" onchange="importChoices(event)">
                </div>
            </div>
            
            <!-- Templates Tab -->
            <div id="templates" class="tab-pane">
                <h2>Template Matrix</h2>
                <div class="table-container">
                    <table class="templates-table" id="templatesTable">
                        <!-- Template matrix will be dynamically generated -->
                    </table>
                </div>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveTemplates()">Save Templates</button>
                    <button class="btn btn-success" onclick="exportTemplates()">Export Templates</button>
                    <button class="btn btn-info" onclick="document.getElementById('importTemplatesFile').click()">Import Templates</button>
                    <input type="file" id="importTemplatesFile" class="file-input" style="display: none;" accept=".json" onchange="importTemplates(event)">
                </div>
            </div>
            
            <!-- Generate Tab -->
            <div id="generate" class="tab-pane">
                <h2>Generate Prompts</h2>
                <div class="table-container">
                    <table class="generate-table" id="generateTable">
                        <thead>
                            <tr>
                                <th>Template</th>
                                <th>Number of Prompts</th>
                                <th>Template Elements</th>
                            </tr>
                        </thead>
                        <tbody id="generateTableBody">
                            <!-- Generate table will be dynamically populated -->
                        </tbody>
                    </table>
                </div>
                <div class="button-group">
                    <button class="btn btn-success" onclick="generatePrompts()">Generate Prompts</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal -->
    <div id="promptModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Generated Prompts</h2>
                <button class="close" onclick="closeModal()">&times;</button>
            </div>
            <div class="generated-prompts" id="generatedPrompts"></div>
            <div class="button-group">
                <button class="btn btn-primary" onclick="copyToClipboard()">Copy to Clipboard</button>
            </div>
        </div>
    </div>

    <script>
        // Default data
        const defaultChoices = {
            'Gender': ['woman', 'lady', 'female', 'girl', 'young woman'],
            'Ethnicity': ['Asian', 'Korean', 'Japanese', 'Chinese', 'Thai', 'Vietnamese', 'Filipino', 'Indian', 'Latina', 'Hispanic', 'Caucasian', 'European', 'Mediterranean', 'Middle Eastern', 'African American', 'Mixed race', 'Eurasian'],
            'Age': ['18 years old', '19 years old', '20 years old', '21 years old', '22 years old', '25 years old', '28 years old', '30 years old', '32 years old', '35 years old', '38 years old', '40 years old', '42 years old', '45 years old'],
            'Body': ['toned legs and sculpted arms', 'curvy hips and slender waist', 'athletic body with defined muscles', 'petite frame with delicate limbs', 'tall body with long legs', 'hourglass figure with curved hips', 'slim body with graceful arms', 'fit physique with strong legs', 'elegant body with refined posture', 'voluptuous figure with shapely hips', 'lean body with toned arms', 'statuesque frame with long limbs'],
            'Hair Color': ['jet black', 'chocolate brown', 'honey blonde', 'platinum blonde', 'auburn red', 'copper red', 'ash brown', 'caramel brown', 'dark brown', 'golden blonde', 'strawberry blonde', 'chestnut brown', 'silver gray', 'pearl white'],
            'Hair Style': ['long straight hair', 'wavy shoulder-length hair', 'curly voluminous hair', 'sleek bob hair', 'messy bun hair', 'elegant updo hair', 'braided hair', 'layered hair', 'pixie cut hair', 'beach wave hair', 'ponytail hair', 'loose flowing hair'],
            'Face': ['bright smile', 'confident expression', 'serene look', 'playful grin', 'gentle smile', 'mysterious gaze', 'joyful expression', 'thoughtful expression', 'radiant smile', 'sultry look', 'warm smile', 'captivating stare'],
            'Role/Occupation': ['fashion model', 'professional dancer', 'yoga instructor', 'artist', 'photographer', 'designer', 'musician', 'actress', 'fitness trainer', 'chef', 'writer', 'entrepreneur', 'student', 'teacher', 'scientist', 'doctor'],
            'Clothes': ['flowing summer dress', 'elegant cocktail dress', 'casual denim outfit', 'professional business attire', 'athletic wear', 'vintage-inspired outfit', 'bohemian style clothing', 'minimalist fashion', 'designer evening gown', 'comfortable loungewear', 'chic street style', 'formal wear'],
            'Location': ['sunlit beach', 'urban rooftop', 'cozy coffee shop', 'modern studio', 'lush garden', 'city street', 'elegant interior', 'natural landscape', 'contemporary office', 'artistic gallery', 'peaceful park', 'luxury hotel', 'mountain vista', 'forest clearing'],
            'Activity': ['posing confidently', 'dancing gracefully', 'laughing joyfully', 'reading peacefully', 'exercising energetically', 'cooking creatively', 'painting artistically', 'walking casually', 'stretching elegantly', 'meditating calmly', 'working focused', 'celebrating happily'],
            'Camera Angle': ['eye-level shot', 'slightly low angle', 'overhead view', 'close-up portrait', 'wide establishing shot', 'three-quarter view', 'profile shot', 'candid angle'],
            'Shot Type': ['professional portrait', 'lifestyle photography', 'fashion shoot', 'artistic composition', 'documentary style', 'commercial photography', 'editorial shot', 'fine art photography'],
            'NSFW Details': ['sensual pose', 'intimate atmosphere', 'seductive styling', 'provocative composition', 'alluring expression', 'romantic mood', 'sultry lighting', 'passionate energy'],
            'Artistic Style': ['photorealistic', 'soft romantic style', 'dramatic lighting', 'vintage aesthetic', 'modern minimalist', 'classic portrait style', 'contemporary fashion', 'artistic interpretation'],
            'Additional Details': ['golden hour lighting', 'soft natural light', 'dramatic shadows', 'warm color palette', 'cool tones', 'high contrast', 'dreamy atmosphere', 'crisp detail', 'film grain texture', 'bokeh background', 'vibrant colors', 'muted tones', 'professional quality']
        };

        // Default template matrix
        const defaultTemplates = {
            'Template 1': ['Gender', 'Ethnicity', 'Age', 'Body', 'Hair Color', 'Hair Style', 'Face'],
            'Template 2': ['Gender', 'Ethnicity', 'Age', 'Body', 'Hair Color', 'Hair Style', 'Face', 'Role/Occupation', 'Clothes'],
            'Template 3': ['Gender', 'Ethnicity', 'Age', 'Body', 'Hair Color', 'Hair Style', 'Face', 'Activity', 'Location'],
            'Template 4': ['Gender', 'Ethnicity', 'Age', 'Body', 'Hair Color', 'Hair Style', 'Face', 'Clothes', 'Camera Angle', 'Shot Type'],
            'Template 5': ['Gender', 'Ethnicity', 'Age', 'Body', 'Hair Color', 'Hair Style', 'Face', 'Role/Occupation', 'Clothes', 'Activity', 'Location', 'Camera Angle', 'Shot Type', 'Artistic Style', 'Additional Details']
        };

        let currentChoices = {...defaultChoices};
        let currentTemplates = {...defaultTemplates};

        // Initialize the application
        function init() {
            loadData();
            renderChoices();
            renderTemplates();
            renderGenerate();
        }

        // Tab functionality
        function showTab(tabName) {
            // Hide all tab panes
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab pane
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Load data from localStorage
        function loadData() {
            const savedChoices = localStorage.getItem('promptChoices');
            const savedTemplates = localStorage.getItem('promptTemplates');
            
            if (savedChoices) {
                currentChoices = JSON.parse(savedChoices);
            }
            
            // Always use the current defaultTemplates (5 templates) - ignore old saved data with 20 templates
            const savedTemplatesData = savedTemplates ? JSON.parse(savedTemplates) : null;
            if (savedTemplatesData && Object.keys(savedTemplatesData).length === 5) {
                // Only load saved templates if they match our current 5-template structure
                currentTemplates = savedTemplatesData;
            } else {
                // Reset to default 5 templates and clear old localStorage
                currentTemplates = {...defaultTemplates};
                localStorage.removeItem('promptTemplates'); // Clear old 20-template data
            }
        }

        // Render choices tab
        function renderChoices() {
            const container = document.getElementById('choicesContainer');
            container.innerHTML = '';
            
            Object.keys(currentChoices).forEach(element => {
                const choiceItem = document.createElement('div');
                choiceItem.className = 'choice-item';
                
                choiceItem.innerHTML = `
                    <label for="${element.replace(/[^a-zA-Z0-9]/g, '')}">${element}</label>
                    <textarea id="${element.replace(/[^a-zA-Z0-9]/g, '')}" placeholder="Enter choices separated by commas">${currentChoices[element].join(', ')}</textarea>
                `;
                
                container.appendChild(choiceItem);
            });
        }

        // Render templates tab
        function renderTemplates() {
            const table = document.getElementById('templatesTable');
            const elements = Object.keys(currentChoices);
            const templates = Object.keys(currentTemplates);
            
            let headerHTML = '<thead><tr><th>Prompt Element</th>';
            templates.forEach(template => {
                headerHTML += `<th>${template}</th>`;
            });
            headerHTML += '</tr></thead>';
            
            let bodyHTML = '<tbody>';
            elements.forEach(element => {
                bodyHTML += `<tr><td>${element}</td>`;
                templates.forEach(template => {
                    const isChecked = currentTemplates[template].includes(element) ? 'checked' : '';
                    bodyHTML += `<td><input type="checkbox" ${isChecked} onchange="updateTemplate('${template}', '${element}', this.checked)"></td>`;
                });
                bodyHTML += '</tr>';
            });
            bodyHTML += '</tbody>';
            
            table.innerHTML = headerHTML + bodyHTML;
        }

        // Render generate tab
        function renderGenerate() {
            const tbody = document.getElementById('generateTableBody');
            tbody.innerHTML = '';
            
            Object.keys(currentTemplates).forEach(templateName => {
                const row = document.createElement('tr');
                const elements = currentTemplates[templateName];
                
                row.innerHTML = `
                    <td><strong>${templateName}</strong></td>
                    <td><input type="number" id="count-${templateName}" value="5" min="1" max="100"></td>
                    <td class="template-elements">${elements.join(', ')}</td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // Update template matrix
        function updateTemplate(template, element, isChecked) {
            if (isChecked) {
                if (!currentTemplates[template].includes(element)) {
                    currentTemplates[template].push(element);
                }
            } else {
                const index = currentTemplates[template].indexOf(element);
                if (index > -1) {
                    currentTemplates[template].splice(index, 1);
                }
            }
            renderGenerate(); // Update the generate tab to reflect changes
        }

        // Save choices to localStorage
        function saveChoices() {
            const elements = Object.keys(currentChoices);
            
            elements.forEach(element => {
                const elementId = element.replace(/[^a-zA-Z0-9]/g, '');
                const textarea = document.getElementById(elementId);
                if (textarea) {
                    const value = textarea.value.trim();
                    currentChoices[element] = value ? value.split(',').map(item => item.trim()).filter(item => item) : [];
                }
            });
            
            localStorage.setItem('promptChoices', JSON.stringify(currentChoices));
            alert('Choices saved successfully!');
        }

        // Save templates to localStorage
        function saveTemplates() {
            localStorage.setItem('promptTemplates', JSON.stringify(currentTemplates));
            alert('Templates saved successfully!');
        }

        // Export choices
        function exportChoices() {
            const dataStr = JSON.stringify(currentChoices, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = 'prompt-choices.json';
            link.click();
        }

        // Export templates
        function exportTemplates() {
            const dataStr = JSON.stringify(currentTemplates, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = 'prompt-templates.json';
            link.click();
        }

        // Import choices
        function importChoices(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const imported = JSON.parse(e.target.result);
                        currentChoices = imported;
                        renderChoices();
                        alert('Choices imported successfully!');
                    } catch (error) {
                        alert('Error importing choices: Invalid JSON file');
                    }
                };
                reader.readAsText(file);
            }
        }

        // Import templates
        function importTemplates(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const imported = JSON.parse(e.target.result);
                        currentTemplates = imported;
                        renderTemplates();
                        renderGenerate();
                        alert('Templates imported successfully!');
                    } catch (error) {
                        alert('Error importing templates: Invalid JSON file');
                    }
                };
                reader.readAsText(file);
            }
        }

        // Generate prompts
        function generatePrompts() {
            let allPrompts = [];
            
            Object.keys(currentTemplates).forEach(templateName => {
                const countInput = document.getElementById(`count-${templateName}`);
                const count = parseInt(countInput.value) || 5;
                const elements = currentTemplates[templateName];
                
                for (let i = 0; i < count; i++) {
                    let promptData = {};
                    
                    // Collect random choices for each element
                    elements.forEach(element => {
                        if (currentChoices[element] && currentChoices[element].length > 0) {
                            const randomChoice = currentChoices[element][Math.floor(Math.random() * currentChoices[element].length)];
                            promptData[element] = randomChoice;
                        }
                    });
                    
                    // Create natural language prompt
                    let prompt = createNaturalPrompt(promptData);
                    allPrompts.push(prompt);
                }
            });
            
            document.getElementById('generatedPrompts').textContent = allPrompts.join('\n\n');
            document.getElementById('promptModal').style.display = 'block';
        }

        // Create natural language prompt from data
        function createNaturalPrompt(data) {
            let parts = [];
            
            // Start with article and basic description
            let description = "A";
            
            // Add age if present
            if (data['Age']) {
                description += ` ${data['Age']}`;
            }
            
            // Add ethnicity and gender
            if (data['Ethnicity']) {
                description += ` ${data['Ethnicity']}`;
            }
            if (data['Gender']) {
                description += ` ${data['Gender']}`;
            }
            
            // Add role/occupation
            if (data['Role/Occupation']) {
                description += ` ${data['Role/Occupation']}`;
            }
            
            parts.push(description);
            
            // Add physical description with explicit body/anatomy words
            if (data['Body']) {
                parts.push(`with ${data['Body']}`);
            }
            
            // Add hair description with explicit "hair" word
            if (data['Hair Color'] || data['Hair Style']) {
                let hairDesc = "";
                if (data['Hair Color'] && data['Hair Style']) {
                    hairDesc = `${data['Hair Color']} ${data['Hair Style']}`;
                } else if (data['Hair Color']) {
                    hairDesc = `${data['Hair Color']} hair`;
                } else if (data['Hair Style']) {
                    hairDesc = `${data['Hair Style']}`;
                }
                if (hairDesc) {
                    parts.push(hairDesc);
                }
            }
            
            // Add facial expression
            if (data['Face']) {
                parts.push(`with a ${data['Face']}`);
            }
            
            // Add clothing
            if (data['Clothes']) {
                parts.push(`wearing ${data['Clothes']}`);
            }
            
            // Add activity and location
            if (data['Activity'] && data['Location']) {
                parts.push(`${data['Activity']} at ${data['Location']}`);
            } else if (data['Activity']) {
                parts.push(data['Activity']);
            } else if (data['Location']) {
                parts.push(`located at ${data['Location']}`);
            }
            
            // Add camera/shot details
            let technicalDesc = [];
            if (data['Camera Angle']) {
                technicalDesc.push(data['Camera Angle']);
            }
            if (data['Shot Type']) {
                technicalDesc.push(data['Shot Type']);
            }
            if (technicalDesc.length > 0) {
                parts.push(technicalDesc.join(', '));
            }
            
            // Add artistic style
            if (data['Artistic Style']) {
                parts.push(`in ${data['Artistic Style']}`);
            }
            
            // Add NSFW details
            if (data['NSFW Details']) {
                parts.push(data['NSFW Details']);
            }
            
            // Add additional details
            if (data['Additional Details']) {
                parts.push(`with ${data['Additional Details']}`);
            }
            
            // Join all parts with appropriate punctuation
            return parts.join(', ') + '.';
        }

        // Close modal
        function closeModal() {
            document.getElementById('promptModal').style.display = 'none';
        }

        // Copy to clipboard
        async function copyToClipboard() {
            const text = document.getElementById('generatedPrompts').textContent;
            
            // Format for spreadsheet - each prompt on its own line
            const formattedText = text.split('\n\n').filter(line => line.trim()).join('\n');
            
            try {
                await navigator.clipboard.writeText(formattedText);
                alert('Prompts copied to clipboard! Each prompt will paste into its own spreadsheet row.');
            } catch (err) {
                // Fallback for browsers that don't support clipboard API
                const textArea = document.createElement('textarea');
                textArea.value = formattedText;
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    alert('Prompts copied to clipboard! Each prompt will paste into its own spreadsheet row.');
                } catch (fallbackErr) {
                    alert('Failed to copy to clipboard. Please manually select and copy the text.');
                }
                
                document.body.removeChild(textArea);
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('promptModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }

        // Initialize the app when the page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>